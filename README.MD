# Домашнее задание к занятию "11.04 Микросервисы: масштабирование"

```
Задача 1: Кластеризация
Предложите решение для обеспечения развертывания, запуска и 
управления приложениями. Решение может состоять из одного или 
нескольких программных продуктов и должно описывать способы и 
принципы их взаимодействия.

Решение должно соответствовать следующим требованиям:

Поддержка контейнеров;
Обеспечивать обнаружение сервисов и маршрутизацию запросов;
Обеспечивать возможность горизонтального масштабирования;
Обеспечивать возможность автоматического масштабирования;
Обеспечивать явное разделение ресурсов доступных извне и внутри 
системы;
Обеспечивать возможность конфигурировать приложения с помощью 
переменных среды, в том числе с возможностью безопасного хранения 
чувствительных данных таких как пароли, ключи доступа, ключи 
шифрования и т.п.
Обоснуйте свой выбор.
```

Ответ:

Решений для оркестрации много: Kubernetes, OpenShift, Nomad, Docker (Swarm, Compose), Apache Mesos, Cloudify, Fleet и другие.
Однако самые распространенные - это Kubernetes и Docker. И по ним 
очень много информации. Поэтому буду выбирать из них.
Для начала посмотрим, соответствуют ли эти решения требованиям.
1. Поддержка контейнеров - оба решения;
2. Обеспечивать обнаружение сервисов и маршрутизацию запросов - оба решения;
3. Обеспечивать возможность горизонтального масштабирования - оба 
решения;
4. Обеспечивать возможность автоматического масштабирования - в 
Docker Swarm недоступно, для каждой службы вручную можно указать 
число задач, которые надо запустить; Kuber поддерживает автомасшатбирование на основе метрик (ЦП, RAM и т.д.) 
5. Обеспечивать явное разделение ресурсов доступных извне и 
внутри системы - оба решения позволяют ограничивать ресурсы;
6. Обеспечивать возможность конфигурировать приложения с помощью 
переменных среды, в том числе с возможностью безопасного хранения 
чувствительных данных таких как пароли, ключи доступа, ключи 
шифрования и т.п. - оба решения это позволяют.

В итоге, из двух самых распространенных решений следует выбрать Kubernetes, поскольку он поддерживает автомасштабирование, что удобно. К тому же, если встречается много статей вроде "Как жили до Kubernetes...", это решение можно признать более удобным даже не смотря на то, что оно сложнее. Прочие решения, например, Nomad, рассматривать вряд ли стоит вообще, поскольку компания HashiCorp имеет своё видение на события этого года, скажем так. Поэтому не стоит создавать себе проблемы связываясь с решениями, которые могут оказаться недоступны.